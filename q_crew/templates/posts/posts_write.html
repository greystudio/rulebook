<!-- templates/posts/posts_write.html -->

{% extends 'main/base.html' %}
{% load static %}

{% block summernote %}

<!-- summernote install -->
<!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="{% static 'css/summernote/summernote-lite.css' %}" type="text/css">
<script src="{% static 'js/summernote/summernote-lite.js' %}"></script>
<script type="text/javascript"  src="/static/js/summernote/summernote/lang/summernote-ko-KR.js"></script> -->

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>

<script>
    $(document).ready(function() {
        $('#summernote').summernote({
              height: 300,                 // 에디터 높이
              minHeight: null,             // 최소 높이
              maxHeight: null,             // 최대 높이
              focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
              lang: "ko-KR",					// 한글 설정
              placeholder: '최대 2048자까지 쓸 수 있습니다'	//placeholder 설정           
        });
    });
</script>
{% endblock %}


{% block header %}
<!-- main css -->
<link rel="stylesheet" href="{% static 'css/main/main.css' %}">
{% endblock %}

{% block contents %}
<div class="container">

    <!-- 본문 -->
    <form action="" method="post">
        {% csrf_token %}


        <div class="write-card">
            <div class="write-card-title">
                <img class="mx-3" src="{% static '/img/make (1).jpg' %}" alt="">
                <h4 style="margin:0; font-weight: bold; font-size:2rem">MAKE OUR RULE</h4>
            </div>

            <div class="mt-4 mb-4 title">
                <label name="label-title" for="{{ form.title.id_for_label }}"><i class="write-label-title"></i>&nbsp;&nbsp;{{ form.title.label }}</label>
                {{ form.title }}
            </div>

            <div class="mt-4 mb-4 version">
                <label name="label-version" for="{{ form.version.id_for_label }}"><i class="write-label-version"></i>&nbsp;&nbsp;{{ form.version.label }}</label>
                {{ form.version }}
            </div>

            <div class="mt-4 mb-4 content">
                <label name="label-content" for="{{ form.content.id_for_label }}"><i class="write-label-content"></i>&nbsp;&nbsp;{{ form.content.label }}</label>
                {{ form.content }}
            </div>

            <div id="summernote">hello</div>


            <div class="write-button">
                {% if edit %}
                <button type="sumit" class="button submit-button">{{ edit }}</button>
                {% else %}
                <button type="sumit" class="button submit-button">페이퍼 작성</button>
                {% endif %}
            </div>
        </div>
    </form>
</div>

{% endblock %}




{% block script %}
<script type="text/javascript">
    var checkUnload = true;
    $(window).on('beforeunload', function () {
        if (checkUnload) return "이 페이지를 벗어나면 작성된 내용은 저장되지 않습니다.";
    });
    $("#write").on("click", function () {
        checkUnload = false;
        $("submit").submit();
    });

    // $('#write').click(function () {
    //     if ( $('p')[2].innerText == false ) {
    //         alert('내용을 입력해주세요.');
    //     } else {
    //         checkUnload = false;
    //         $('#id_form').submit();
    //     }
    // });
</script>
{% endblock %}